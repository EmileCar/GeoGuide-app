@using System.Text.Json
@using Newtonsoft.Json
@model GeoGuide.Domain.Country

@{
    ViewData["Title"] = "Detail";
}

@functions {
	public string NiceNumber(int? n)
	{
		if (n.HasValue)
		{
			string population = n.Value.ToString("N0");
			return population.Replace(",", ".");
		}
		else
		{
			return "unknown";
		}
	}
}
<section class="section--60 section__cardstyle section__centre section__countries">
	<a class="button" asp-action="Edit" asp-controller="Country" asp-route-countryCode="@Model.CountryCode"></a>
	<h2 class="title section__countries--title">@Model.Name</h2>
	<div class="countrydetail__container">
		<div class="countrydetail countrydetail__generalInfo">
			<a href="?page=countries&region=<?= $country->region->id;?>" class="generalInfo__item">
				<p class="generalInfo__item--title">Region</p>
				<p class="generalInfo__item--value">@Model.Region?.Name</p>
			</a>
			<a href="?page=countries&" class="generalInfo__item">
				<p class="generalInfo__item--title">Capital</p>
				<p class="generalInfo__item--value">@Model.Capital</p>
			</a>
			<a href="?page=countries&coverage=<?= $country->coverage->id;?>" class="generalInfo__item">
				<p class="generalInfo__item--title">Coverage</p>
				<p class="generalInfo__item--value"><?= $country->coverage->keyword;?></p>
			</a>
		</div>
		<div class="countrydetail countrydetail__second">
			<div class="countrydetail__second--left">
				<p><strong>Population</strong>: @NiceNumber(Model.Population)</p>
				<p><strong>Independent</strong>: @(Model.Independent ? "yes" : "no")</p>
				<p><strong>Currency</strong>: @Model.Currency</p>
				<p><strong>Domain</strong>: @Model.CountryCode</p>
				<p><strong>Driving side</strong>: <?= $country->id;?></p>


				<div class="countrydetail__item tableOfContents__container">
					<h3 class="countrydetail__item--item">Table of Contents</h3>
					<ol class="tableOfContents">
					</ol>
				</div>
			</div>
			<div class="countrydetail__second--right">
				<img src="/img/flags/@(Model.CountryCode).svg" width="160" class="countrydetail--flag">
			</div>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Architecture</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Bollards</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Poles</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">License Plates</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Road lines</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Post box</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Scenery</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Sidewalks</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Signs</h3>
		</div>
		<div class="countrydetail__item">
			<h3 class="countrydetail__item--item toc-item">Traffic lights</h3>
		</div>
	</div>
</section>
<script src="js/tableofcontents.js"></script>